# cs5100-project
Agentic RAG for Cooking Recipes


## Usage

1. Install `uv` [(installation docs)](https://docs.astral.sh/uv/getting-started/installation/)
2. (Optional) If you want to use your own recipes instead of the default ones in the repo, [export your own cookbook in 'paprika recipe format'](https://paprikaapp.zendesk.com/hc/en-us/articles/360051324613-What-export-formats-do-you-support), and then replace the exported file in `resources/paprika/export.paprikarecipes`
3. Run `export ARCH=cu128` or `export ARCH=cpu` to install for cpu or gpu version of this code. Then, in the same terminal, run `make` - this will install dependencies, build databases, and start the GUI application. See [advanced usage](#advanced-usage) for more information on each of the commands run by this abstraction and for control on GPU vs CPU device usage.
    - Aftter this first invocation of make, there is no need to set the ARCH environment variable as this is only used for dependency installation. 

### Advanced Usage

If the first time you ran make you didn't select the correct architecture, you need to reinstall dependencies manually, or need to change whether or not to use GPU/CPU:
```sh
uv sync --extra cu128 # switch from torch CPU -> torch GPU (cuda >=12.8)
uv sync --extra cpu   # switch from torch GPU -> torch CPU
```

Building dependencies for the app (i.e. parsing resource files, creating vector db, etc.).
To have the app import your 

```sh
make .build
```

Run the app
```sh
# to automatically handle pre-requisite steps and start GUI 
make run # this is the same as running `make`
# or to only run the app
uv run -m src.cmd.start_app
```

Clean all files generated by the build:
```sh
make clean
```

During development, lint and fix linting errors with following commands:

```sh
make lint
make lint-fix
```